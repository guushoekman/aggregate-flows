<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Aggregate Flows</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>

  <div class="container pt-4">
    <h4>Sankey</h4>
    <div id="sankey"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src='https://cdn.plot.ly/plotly-2.14.0.min.js'></script>

  <script>
    var data = [{
      type: "sankey",
      arrangement: "perpendicular",
      // arrangement: "snap",
      valuesuffix: "kt",
      valueformat: ",",
      node: {
        label: ["Demolition","Overburden and Interburden","Scalpings and Fines","Deconstruction","Extraction","Extraction Sand","Extraction Gravel","Extraction Crushed Rock","Marine Dredged Sand","Marine Dredged Gravel","Processing/Production","Processing/Production Sand","Processing/Production Gravel","Processing/Production Crushed Rock","Processing/Production Secondary Aggregates","Processing/Production recycled Waste","Processing/Production C&D Waste","Manufacturing","Concreting Sand","Concreting Gravel","Concreting Crushed Rock","Concreting C&D","Asphalt Sand","Asphalt Gravel","Asphalt Crushed Rock","Mortar Manufacturing","Manufacturing Waste","Use","Road","Buildings","Road Sand","Road Gravel","Road Crushed Rock","Railway Ballast","Building Sand","Building Gravel","Building Crushed Rock","Other Infrastructure","Landfill","Other Waste Processing","Processing/Production C&D","Use as Fill","Processing/Production Recycled Waste","Stock"],
        color: ["#b23434","#b23434","#b23434","#b23434","#cbbebe","#d7e60a","#f0a316","#aca9a3","#d7e60a","#f0a316","#cbbebe","#d7e60a","#f0a316","#aca9a3","#a5d7d4","#02aa02","#b23434","#cbbebe","#d7e60a","#f0a316","#aca9a3","#b23434","#d7e60a","#f0a316","#aca9a3","#d7e60a","#b23434","#cbbebe","#b32eb3","#b32eb3","#d7e60a","#f0a316","#aca9a3","#b32eb3","#d7e60a","#f0a316","#aca9a3","#b32eb3","#b23434","#b23434","#b23434","#b32eb3","#02aa02","#cbbebe"],
        pad: 5,
        thickness: 0,
        line: {
          width: 0,
        },
      },
      link: {
        source: [0,0,1,2,3,0,3,4,4,4,4,4,5,6,7,8,9,10,10,10,10,10,10,11,12,13,14,15,16,17,17,17,17,17,17,17,17,18,19,20,21,22,23,24,25,18,19,20,21,22,23,24,25,26,1,2,27,27,27,27,28,28,28,29,29,29,30,31,32,33,34,35,36,37,30,31,32,33,34,35,36,37,0,3,38,39,1,2,26],
        target: [40,21,41,15,27,38,38,5,6,7,8,9,1,1,1,1,1,11,12,13,14,15,16,2,2,2,2,2,2,18,19,20,21,22,23,24,25,38,38,38,38,38,38,38,38,26,26,26,26,26,26,26,26,39,39,39,28,33,29,37,30,31,32,34,35,36,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,43,43,43,43,43,43,43],
        value: [33690,7071,11204,6900,4046,13400,0,22495,33736,92560,0,0,1159,2047,6637,613,814,26304,20777,62069,0,1293,28770,399,981,2977,329,0,1396,21235,14171,27038,16245,0,0,10014,845,0,0,0,0,0,0,0,229,0,0,257,0,0,0,0,346,603,11270,6082,10014,23457,57930,20772,0,0,10014,6111,8793,43026,1745,2380,6802,1471,1903,2619,7689,17260,0,0,0,0,264,0,1937,2492,0,0,15000,4998,4498,250,1000],
        color: ["#b23434","#b23434","#666666","#666666","#666666","#666666","#666666","#d7e60a","#f0a316","#aca9a3","#d7e60a","#f0a316","#d7e60a","#f0a316","#aca9a3","#d7e60a","#f0a316","#d7e60a","#f0a316","#aca9a3","#a5d7d4","#a5d7d4","#b23434","#d7e60a","#f0a316","#aca9a3","#a5d7d4","#a5d7d4","#b23434","#d7e60a","#f0a316","#aca9a3","#b23434","#d7e60a","#f0a316","#aca9a3","#d7e60a","#d7e60a","#f0a316","#aca9a3","#b23434","#d7e60a","#f0a316","#aca9a3","#d7e60a","#d7e60a","#f0a316","#aca9a3","#b23434","#d7e60a","#f0a316","#aca9a3","#d7e60a","#666666","#666666","#666666","#666666","#aca9a3","#666666","#666666","#d7e60a","#f0a316","#aca9a3","#d7e60a","#f0a316","#aca9a3","#d7e60a","#f0a316","#aca9a3","#aca9a3","#d7e60a","#f0a316","#aca9a3","#666666","#d7e60a","#f0a316","#aca9a3","#aca9a3","#d7e60a","#f0a316","#aca9a3","#666666","#666666","#666666","#666666","#666666","#666666","#666666","#666666"],
        arrowlen: 10,
      }
    }]

    var layout = {
        title: 'Waste management',
        height: 800,
    };

    var config = {
      toImageButtonOptions: {
        format: 'svg', // one of png, svg, jpeg, webp
        filename: 'waste management',
        height: 1000,
        width: 1000,
        scale: 1 // Multiply title/legend/axis/canvas sizes by this factor
      }
    };

    Plotly.newPlot('sankey', data, layout, config)
  </script>
</body>
</html>